import{t as V,a as D}from"./BUVNq0sh.js";import"./BoQ5mhZH.js";import{o as E,v as Rt,au as Ot,p as st,Z as _,c as i,_ as h,R as d,g as t,$ as ct,t as K,a0 as R,b as ot,k as A,l as F,r as S}from"./DVbtH7dG.js";import{e as y,s as ze,r as Bt}from"./CH7mA5_C.js";import{i as C}from"./cO9CbSUo.js";import{m as T,j as H,k as J,e as Dt,h as Vt}from"./uO1cxeyq.js";import{g as Nt,c as O,a as Ut,f as nt,s as Pe,i as lt}from"./B82cbttc.js";import{t as Zt,f as Gt,r as Ht,d as ut,g as dt,s as Jt,a as ae,I as he,h as Kt,i as Qt,j as Wt,B as rt,k as Xt,l as Yt,n as $t,o as it}from"./UBRK0isu.js";import{b as De}from"./V2177jkn.js";import{i as ft}from"./CqfLQNa3.js";import{l as Ve,p as a}from"./Cq0t-lo4.js";import{c as vt,o as ea}from"./dt_UomYr.js";function Ne(o,e,I){if(o.multiple)return aa(o,e);for(var N of o.options){var L=mt(N);if(Ot(L,e)){N.selected=!0;return}}(!I||e!==void 0)&&(o.selectedIndex=-1)}function ta(o,e){let I=!0;E(()=>{e&&Ne(o,Rt(e),I),I=!1;var N=new MutationObserver(()=>{var L=o.__value;Ne(o,L)});return N.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{N.disconnect()}})}function aa(o,e){for(var I of o.options)I.selected=~e.indexOf(mt(I))}function mt(o){return"__value"in o?o.__value:o.value}var na=0;function la(o){var e=++na;return Zt(o)+e}function ra(o,e){return Gt(o,{delay:5,...e})}const Aa=o=>{const e=I=>{o.select()};return o.addEventListener("focus",e),{destroy(){o.removeEventListener("focus",e)}}},ia="inset";var sa=V("<input>");function ca(o,e){const I=Ve(e,["children","$$slots","$$events","$$legacy"]),N=Ve(I,["name","value","type","inputmode","id","actions","inputEl","autocapitalize","class","mask","replace","accept","placeholder","required","disabled","min","max","step"]);st(e,!1);const L=h(),v=h(),U=h(),W=h(),ne=h();let xe=a(e,"name",8,""),w=a(e,"value",12,""),be=a(e,"type",8,"text"),ue=a(e,"inputmode",8,void 0),M=a(e,"id",8,void 0),Te=a(e,"actions",8,void 0),X=a(e,"inputEl",12,null),_e=a(e,"autocapitalize",8,void 0),Z=a(e,"class",8,void 0),c=a(e,"mask",8,""),z=a(e,"replace",8,"_"),p=a(e,"accept",8,"\\d"),de=a(e,"placeholder",8,void 0),b=a(e,"required",8,!1),qe=a(e,"disabled",8,!1),ye=a(e,"min",8,void 0),Fe=a(e,"max",8,void 0),we=a(e,"step",8,void 0);const B=Nt("Input");let Q=h(!1);const le=vt();let G=h(!1);function fe(r){const g=(r==null?void 0:r.match(t(ne)))||[];return g.length===0?[]:Array.from(c(),k=>g[0]===k||t(v).has(k)?g.shift()??k:k)}function re(r){const g=r.currentTarget;Y(g,c()),le("change",{value:w()})}function Y(r,g){if(g){const[k,ve]=[r.selectionStart,r.selectionEnd].map(P=>(P=fe(r.value.slice(0,P??void 0)).findIndex(Se=>t(v).has(Se)),P<0?t(U)[t(U).length-1]:t(G)?t(U)[P-1]||t(W):P));w(fe(r.value).join("")),r.value=w(),r.setSelectionRange(k,ve),i(G,!1)}else w(r.value)}ea(()=>{if(c()){const r=w();w(fe(w()).join("")),w()!=r&&le("change",{value:w()})}}),_(()=>(d(de()),d(c())),()=>{i(L,de()??c())}),_(()=>d(z()),()=>{i(v,new Set(z()))}),_(()=>(d(c()),t(v)),()=>{i(U,(r=>Array.from(c()??"",(g,k)=>t(v).has(g)?r=k+1:r))(0))}),_(()=>(d(c()),t(v)),()=>{i(W,[...c()??""].findIndex(r=>t(v).has(r)))}),_(()=>d(p()),()=>{i(ne,p()instanceof RegExp?p():new RegExp(p(),"g"))}),_(()=>(d(X()),d(c())),()=>{X()&&Y(X(),c())}),ct(),ft();var f=sa();Ht(f);let ie;De(f,r=>X(r),()=>X()),E(()=>y("keydown",f,r=>i(G,r.key==="Backspace"))),E(()=>y("keydown",f,function(r){T.call(this,e,r)})),E(()=>y("keyup",f,function(r){T.call(this,e,r)})),E(()=>y("keypress",f,function(r){T.call(this,e,r)})),E(()=>y("input",f,re)),E(()=>y("input",f,function(r){T.call(this,e,r)})),E(()=>y("focus",f,r=>{i(Q,!0)})),E(()=>y("focus",f,function(r){T.call(this,e,r)})),E(()=>y("blur",f,r=>{i(Q,!1),w()===c()&&w(""),le("blur",r)})),E(()=>y("blur",f,function(r){T.call(this,e,r)})),ut(f,(r,g)=>{var k;return(k=dt)==null?void 0:k(r,g)},Te),K(r=>ie=Jt(f,ie,{id:M(),type:be(),name:xe(),value:w(),min:ye(),max:Fe(),step:we(),inputmode:ue(),placeholder:t(Q)&&c()?c():t(L),required:b(),disabled:qe(),autocapitalize:_e(),...N,class:r},"svelte-1p03v5h"),[()=>O("Input","text-sm w-full outline-none bg-transparent placeholder-surface/50 selection:bg-surface-content/10",c()&&(c()==t(L)||t(Q)||w())&&"font-mono",B.root,Z())],R),D(o,f),ot()}var oa=V("<span> </span>"),ua=V('<span class="mr-3"><!></span>'),da=V("<div><!> <!></div>"),fa=V("<span> </span>"),va=V("<textarea></textarea>"),ma=V("<option> </option>"),pa=V('<select class="appearance-none bg-surface-content/5 border rounded-full mr-2 px-2 text-sm outline-none focus:border-opacity-50 focus:shadow-md" style="text-align-last: center;"></select>'),ga=V("<div><!> <!> <!> <!> <!></div>"),ha=V('<label role="group"><!> <div class="flex-1"><div><div class="flex items-center"><!> <div class="flex-grow inline-grid"><!> <div><!> <!> <!> <!> <!></div></div> <!></div></div> <div> </div></div></label>');function Ca(o,e){const I=Ut(e),N=Ve(e,["children","$$slots","$$events","$$legacy"]);st(e,!1);const L=h(),v=h(),U=h(),W=h(),ne=h(),xe=h(),w=h(),be=h(),ue=vt(),{classes:M,defaults:Te}=nt("TextField"),{defaults:X}=nt("Field");let _e=a(e,"name",8,void 0),Z=a(e,"label",8,""),c=a(e,"labelPlacement",24,()=>Te.labelPlacement??X.labelPlacement??ia),z=a(e,"value",12,""),p=a(e,"type",8,"text"),de=a(e,"placeholder",8,void 0),b=a(e,"error",8,""),qe=a(e,"hint",8,""),ye=a(e,"autocomplete",8,"off"),Fe=a(e,"multiline",8,!1),we=a(e,"required",8,!1),B=a(e,"disabled",8,!1),Q=a(e,"clearable",8,!1),le=a(e,"base",8,!1),G=a(e,"rounded",8,!1),fe=a(e,"dense",8,!1),re=a(e,"icon",8,null),Y=a(e,"iconRight",8,null),f=a(e,"align",8,"left"),ie=a(e,"autofocus",8,!1),r=a(e,"actions",24,()=>ie()?n=>[ra(n,typeof ie()=="object"?ie():void 0)]:void 0),g=a(e,"operators",8,void 0),k=a(e,"inputEl",12,null),ve=a(e,"debounceChange",8,!1),P=a(e,"classes",24,()=>({})),Se=a(e,"mask",8,void 0),pt=a(e,"replace",8,void 0),Ae=a(e,"accept",8,void 0),Ue=a(e,"autocapitalize",8,void 0),Ze=a(e,"role",8,void 0),gt=a(e,"min",8,void 0),ht=a(e,"max",8,void 0),xt=a(e,"step",24,()=>p()==="decimal"?.1:1),j=h("text"),se=h(void 0),x=h(z()==null?"":String(z())),Ge;function Ce(){let n;const l=t(j)==="number"?Number(t(x)):t(x);t(x)&&t(v)?n={[t(v)]:l}:n=t(x)===""?null:l,z(n),ve()?(clearTimeout(Ge),Ge=setTimeout(()=>{ue("change",{value:z(),inputValue:t(x),operator:t(v)})},ve()===!0?300:ve())):ue("change",{value:z(),inputValue:t(x),operator:t(v)})}function He(n){var s;const l=n.target;if(Ae()){const u=new RegExp(Ae(),"g");i(x,((s=l.value.match(u))==null?void 0:s[0])??""),l.value=t(x)}else i(x,l.value);Ce()}function bt(n){return r()?r()(n):[]}function _t(n){i(v,n.target.value),Ce()}let Le=a(e,"id",24,()=>la("textfield-")),je=h(null);_(()=>d(p()),()=>{switch(p()){case"integer":case"decimal":case"currency":case"percent":i(j,"number");break;case"password":i(j,"password");break;case"email":i(j,"email");break;case"search":i(j,"search");break;case"text":default:i(j,"text")}}),_(()=>d(p()),()=>{switch(p()){case"integer":i(se,"numeric");break;case"decimal":case"currency":case"percent":i(se,"decimal");break;case"email":i(se,"email");break;case"search":i(se,"search");break;case"text":case"password":default:i(se,"text")}}),_(()=>d(z()),()=>{i(L,lt(z())?Object.values(z())[0]:z()??null)}),_(()=>(t(j),t(x),t(L)),()=>{(t(j)!=="number"||t(x)!=t(L))&&i(x,t(L))}),_(()=>(d(z()),d(g())),()=>{var n;i(v,lt(z())?Object.keys(z())[0]:(n=g())==null?void 0:n[0].value)}),_(()=>t(x),()=>{i(U,t(x)!=null&&t(x)!=="")}),_(()=>(d(c()),d(Z())),()=>{i(W,["inset","float"].includes(c())&&Z()!=="")}),_(()=>d(re()),()=>{i(ne,I.prepend||!!re())}),_(()=>(d(Y()),d(Q()),d(b()),d(g()),d(p())),()=>{i(xe,I.append||Y()!=null||Q()||b()||g()||p()==="password")}),_(()=>d(p()),()=>{i(w,I.prefix||p()==="currency")}),_(()=>d(p()),()=>{i(be,I.suffix||p()==="percent")}),ct(),ft();var ce=ha(),Je=A(ce);{var yt=n=>{var l=oa(),s=A(l,!0);S(l),K(u=>{J(l,1,u,"svelte-5x80gm"),ze(s,Z())},[()=>H(O("label","block text-sm font-medium","truncate group-hover:text-surface-content/70 group-focus-within:text-[var(--color)] group-hover:group-focus-within:text-[var(--color)] cursor-pointer",b()?"text-danger/80":"text-surface-content/50",`placement-${c()}`,M.label,P().label))],R),D(n,l)};C(Je,n=>{Z()&&["top","left"].includes(c())&&n(yt)})}var Ke=F(Je,2),ke=A(Ke),Qe=A(ke),We=A(Qe);{var wt=n=>{var l=da(),s=A(l);Pe(s,e,"prepend",{},null);var u=F(s,2);{var $=ee=>{var oe=ua(),Oe=A(oe);const Ee=R(()=>it(re()));he(Oe,{get data(){return t(Ee)},class:"text-surface-content/50"}),S(oe),D(ee,oe)};C(u,ee=>{re()&&ee($)})}S(l),K(ee=>J(l,1,ee,"svelte-5x80gm"),[()=>H(O("prepend flex items-center whitespace-nowrap",G()&&"pl-3",M.prepend,P().prepend))],R),D(n,l)};C(We,n=>{t(ne)&&n(wt)})}var me=F(We,2),Xe=A(me);{var kt=n=>{var l=fa(),s=A(l,!0);S(l),K(u=>{J(l,1,u,"svelte-5x80gm"),ze(s,Z())},[()=>H(O("label","col-span-full row-span-full z-[1] flex items-center h-full truncate origin-top-left transition-all duration-200 group-hover:text-surface-content/70 group-focus-within:text-[var(--color)] group-hover:group-focus-within:text-[var(--color)] cursor-pointer",b()?"text-danger/80":"text-surface-content/50",`placement-${c()}`,(c()==="inset"||t(U))&&"shrink",M.label,P().label))],R),D(n,l)};C(Xe,n=>{Z()&&["inset","float"].includes(c())&&n(kt)})}var Me=F(Xe,2),Ye=A(Me);Pe(Ye,e,"prefix",{},null);var $e=F(Ye,2);{var Et=n=>{he(n,{data:Kt,size:"1.1em",class:"text-surface-content/50 -mt-1"})};C($e,n=>{p()==="currency"&&n(Et)})}var et=F($e,2);{var It=n=>{var l=va();Bt(l),De(l,s=>k(s),()=>k()),E(()=>y("input",l,He)),E(()=>y("focus",l,function(s){T.call(this,e,s)})),E(()=>y("blur",l,function(s){T.call(this,e,s)})),E(()=>y("keydown",l,function(s){T.call(this,e,s)})),E(()=>y("keypress",l,function(s){T.call(this,e,s)})),ut(l,(s,u)=>{var $;return($=dt)==null?void 0:$(s,u)},()=>bt),K(s=>{ae(l,"id",Le()),ae(l,"name",_e()),ae(l,"placeholder",de()),ae(l,"autocomplete",ye()),l.required=we(),l.disabled=B(),Qt(l,t(x)),ae(l,"autocapitalize",Ue()),J(l,1,s,"svelte-5x80gm")},[()=>H(O("text-sm border-none w-full bg-transparent outline-none resize-none","placeholder-surface-content placeholder-opacity-0 group-focus-within:placeholder-opacity-50",b()&&"placeholder-danger",(c()!=="float"||!t(W))&&"placeholder-opacity-50",{"text-left":f()==="left","text-center":f()==="center","text-right":f()==="right"},M.input,P().input))],R),D(n,l)},zt=n=>{const l=R(()=>String(t(x)??"")),s=R(()=>O("text-sm border-none w-full bg-transparent outline-none truncate","selection:bg-surface-content/30","placeholder-surface-content placeholder-opacity-0 group-focus-within:placeholder-opacity-50",b()&&"placeholder-danger",(c()!=="float"||!t(W))&&"placeholder-opacity-50",{"text-left":f()==="left","text-center":f()==="center","text-right":f()==="right"},M.input,P().input));ca(n,{get id(){return Le()},get name(){return _e()},get placeholder(){return de()},get required(){return we()},get disabled(){return B()},get autocomplete(){return ye()},get type(){return t(j)},get inputmode(){return t(se)},get value(){return t(l)},get mask(){return Se()},get replace(){return pt()},get accept(){return Ae()},get autocapitalize(){return Ue()},get min(){return gt()},get max(){return ht()},get step(){return xt()},get actions(){return r()},get class(){return t(s)},get inputEl(){return k()},set inputEl(u){k(u)},$$events:{input:He,focus(u){T.call(this,e,u)},blur(u){T.call(this,e,u)},keydown(u){T.call(this,e,u)},keypress(u){T.call(this,e,u)}},$$legacy:!0})};C(et,n=>{Fe()?n(It):n(zt,!1)})}var tt=F(et,2);{var Pt=n=>{he(n,{data:Wt,size:"1.1em",class:"text-surface-content/50 -mt-1 ml-1"})};C(tt,n=>{p()==="percent"&&n(Pt)})}var Tt=F(tt,2);Pe(Tt,e,"suffix",{},null),S(Me),S(me);var qt=F(me,2);{var Ft=n=>{var l=ga(),s=A(l);{var u=m=>{rt(m,{icon:Xt,get disabled(){return B()},class:"text-surface-content/50 p-1",$$events:{click:()=>{var q,te;i(x,""),i(v,(q=g())==null?void 0:q[0].value),Ce(),ue("clear"),(te=t(je))==null||te.focus()}}})};C(s,m=>{Q()&&t(U)&&m(u)})}var $=F(s,2);{var ee=m=>{var q=pa();ta(q,()=>t(v));var te;Dt(q,5,()=>g()??[],Vt,(pe,Ie,xa,ba)=>{let jt=()=>t(Ie).label,Be=()=>t(Ie).value;var ge=ma(),at={},Mt=A(ge,!0);S(ge),K(()=>{at!==(at=Be())&&(ge.value=(ge.__value=Be())==null?"":Be()),ze(Mt,jt())}),D(pe,ge)}),S(q),K(()=>{q.disabled=B(),te!==(te=t(v))&&(q.value=(q.__value=t(v))==null?"":t(v),Ne(q,t(v)))}),y("change",q,_t),D(m,q)};C($,m=>{g()&&m(ee)})}var oe=F($,2);{var Oe=m=>{rt(m,{icon:Yt,get disabled(){return B()},class:"text-surface-content/50 p-2",$$events:{click:()=>{t(j)==="password"?i(j,"text"):i(j,"password")}}})};C(oe,m=>{p()==="password"&&m(Oe)})}var Ee=F(oe,2);Pe(Ee,e,"append",{},null);var At=F(Ee,2);{var Ct=m=>{he(m,{data:$t,class:"text-danger"})},Lt=(m,q)=>{{var te=pe=>{const Ie=R(()=>it(Y()));he(pe,{get data(){return t(Ie)},class:"text-surface-content/50"})};C(m,pe=>{Y()&&pe(te)},q)}};C(At,m=>{b()?m(Ct):m(Lt,!1)})}S(l),K(m=>J(l,1,m,"svelte-5x80gm"),[()=>H(O("append flex items-center whitespace-nowrap",M.append,P().append))],R),D(n,l)};C(qt,n=>{t(xe)&&n(Ft)})}S(Qe),S(ke);var Re=F(ke,2),St=A(Re,!0);S(Re),S(Ke),S(ce),De(ce,n=>i(je,n),()=>t(je)),K((n,l,s,u)=>{ae(ce,"for",Le()),J(ce,1,n,"svelte-5x80gm"),J(ke,1,l,"svelte-5x80gm"),ae(me,"role",Ze()==="combobox"?Ze():void 0),J(Me,1,s,"svelte-5x80gm"),J(Re,1,u,"svelte-5x80gm"),ze(St,b()&&b()!=!0?b():qe())},[()=>H(O("TextField","group flex gap-1",c()!=="left"?"flex-col":"items-center",b()?"[--color:theme(colors.danger)]":"[--color:theme(colors.primary)]",B()&&"opacity-50 pointer-events-none",!le()&&(G()?"rounded-full":"rounded"),M.root,P().root,N.class)),()=>H(O("border py-0 transition-shadow",B()?"":"hover:shadow",B()?"":b()?"hover:border-danger":"hover:border-surface-content",{"px-2":!G(),"px-6":G()&&!t(ne)},!le()&&["bg-surface-100",G()?"rounded-full":"rounded"],b()&&"border-danger","group-focus-within:shadow-md group-focus-within:border-[var(--color)]",M.container,P().container)),()=>H(O("input col-span-full row-span-full flex items-center",t(W)&&"pt-4",fe()?"my-1":"my-2",(t(w)||t(be))&&Z()&&c()==="float"&&!t(U)&&"opacity-0 transition-opacity","group-focus-within:opacity-100")),()=>H(O(b()?"error":"hint","text-xs ml-2 transition-transform ease-out overflow-hidden origin-top transform group-focus-within:scale-y-100",b()?"text-danger":"text-surface-content/50 scale-y-0",M.error,P().error))],R),y("click",me,function(n){T.call(this,e,n)}),D(o,ce),ot()}export{ca as I,Ca as T,ra as a,Aa as s};
