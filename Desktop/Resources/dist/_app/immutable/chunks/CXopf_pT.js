var zt=Object.defineProperty;var It=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Me=(e,t,r)=>It(e,typeof t!="symbol"?t+"":t,r);import{c as gt,a as H,t as Z,b as jt}from"./BUVNq0sh.js";import"./BoQ5mhZH.js";import{p as mt,f as xt,b as pt,k as J,g as b,a0 as X,r as I,Z as $e,c as Ne,_ as Se,R as fe,$ as Dt,l as Ee,o as Fe,t as V}from"./DVbtH7dG.js";import{e as Ve,s as Xe}from"./CH7mA5_C.js";import{i as Re}from"./cO9CbSUo.js";import{r as Lt,u as qt,e as oe,h as ce,k as L,j as G}from"./uO1cxeyq.js";import{h as Ot}from"./BZWbwrXd.js";import{o as yt,M as bt,p as Bt,q as Ft,r as Vt,t as Ze,P as Xt,u as Zt,v as Gt,c as R,b as Ut,s as _e}from"./B82cbttc.js";import{x as wt,t as Kt,I as Yt,y as Wt,d as Ge,e as q}from"./UBRK0isu.js";import{i as vt}from"./CqfLQNa3.js";import{p as U,a as kt,b as Mt,l as Jt}from"./Cq0t-lo4.js";import{c as Qt}from"./dt_UomYr.js";import{w as er}from"./N26qYujM.js";import{l as tr}from"./8c6Qml3u.js";function he(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $t(e){let t,r,n;e.length!==2?(t=he,r=(f,u)=>he(e(f),u),n=(f,u)=>e(f)-u):(t=e===he||e===rr?e:nr,r=e,n=e);function a(f,u,o=0,c=f.length){if(o<c){if(t(u,u)!==0)return c;do{const l=o+c>>>1;r(f[l],u)<0?o=l+1:c=l}while(o<c)}return o}function i(f,u,o=0,c=f.length){if(o<c){if(t(u,u)!==0)return c;do{const l=o+c>>>1;r(f[l],u)<=0?o=l+1:c=l}while(o<c)}return o}function s(f,u,o=0,c=f.length){const l=a(f,u,o,c-1);return l>o&&n(f[l-1],u)>-n(f[l],u)?l-1:l}return{left:a,center:s,right:i}}function nr(){return 0}function ar(e){return e===null?NaN:+e}const ir=$t(he),sr=ir.right;$t(ar).center;function fr(e,t){let r,n;if(t===void 0)for(const a of e)a!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}const or=Math.sqrt(50),cr=Math.sqrt(10),ur=Math.sqrt(2);function ge(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=or?10:i>=cr?5:i>=ur?2:1;let f,u,o;return a<0?(o=Math.pow(10,-a)/s,f=Math.round(e*o),u=Math.round(t*o),f/o<e&&++f,u/o>t&&--u,o=-o):(o=Math.pow(10,a)*s,f=Math.round(e/o),u=Math.round(t/o),f*o<e&&++f,u*o>t&&--u),u<f&&.5<=r&&r<2?ge(e,t,r*2):[f,u,o]}function lr(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?ge(t,e,r):ge(e,t,r);if(!(i>=a))return[];const f=i-a+1,u=new Array(f);if(n)if(s<0)for(let o=0;o<f;++o)u[o]=(i-o)/-s;else for(let o=0;o<f;++o)u[o]=(i-o)*s;else if(s<0)for(let o=0;o<f;++o)u[o]=(a+o)/-s;else for(let o=0;o<f;++o)u[o]=(a+o)*s;return u}function Te(e,t,r){return t=+t,e=+e,r=+r,ge(e,t,r)[2]}function dr(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Te(t,e,r):Te(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function hr(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gr(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}var mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xr=/^\w*$/;function pr(e,t){if(yt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||wt(e)?!0:xr.test(e)||!mr.test(e)||t!=null&&e in Object(t)}var yr="Expected a function";function De(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yr);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(De.Cache||bt),r}De.Cache=bt;var br=500;function wr(e){var t=De(e,function(n){return r.size===br&&r.clear(),n}),r=t.cache;return t}var vr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kr=/\\(\\)?/g,Mr=wr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vr,function(r,n,a,i){t.push(a?i.replace(kr,"$1"):n||r)}),t});function $r(e,t){return yt(e)?e:pr(e,t)?[e]:Mr(Kt(e))}function Nr(e){if(typeof e=="string"||wt(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Sr(e,t){t=$r(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Nr(t[r++])];return r&&r==n?e:void 0}function Er(e,t,r){var n=e==null?void 0:Sr(e,t);return n===void 0?r:n}var _r=Bt(function(e,t,r){Ft(e,t,r)});function Ue(e){return Object.prototype.toString.call(e)==="[object Date]"}function He(e,t){if(e===t||e!==e)return()=>e;const r=typeof e;if(r!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((a,i)=>He(e[i],a));return a=>n.map(i=>i(a))}if(r==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ue(e)&&Ue(t)){const i=e.getTime(),f=t.getTime()-i;return u=>new Date(i+u*f)}const n=Object.keys(t),a={};return n.forEach(i=>{a[i]=He(e[i],t[i])}),i=>{const s={};return n.forEach(f=>{s[f]=a[f](i)}),s}}if(r==="number"){const n=t-e;return a=>e+a*n}return()=>t}function Ae(e,t={}){const r=er(e);let n,a=e;function i(s,f){if(a=s,e==null)return r.set(e=s),Promise.resolve();let u=n,o=!1,{delay:c=0,duration:l=400,easing:h=tr,interpolate:d=He}={...t,...f};if(l===0)return u&&(u.abort(),u=null),r.set(e=a),Promise.resolve();const m=Lt.now()+c;let $;return n=qt(y=>{if(y<m)return!0;o||($=d(e,s),typeof l=="function"&&(l=l(e,s)),o=!0),u&&(u.abort(),u=null);const _=y-m;return _>l?(r.set(e=s),!1):(r.set(e=$(h(_/l))),!0)}),n.promise}return{set:i,update:(s,f)=>i(s(a,e),f),subscribe:r.subscribe}}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Le(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Nt(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function se(){}var ne=.7,me=1/ne,ee="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",j="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cr=/^#([0-9a-f]{3,8})$/,Pr=new RegExp(`^rgb\\(${ee},${ee},${ee}\\)$`),Rr=new RegExp(`^rgb\\(${j},${j},${j}\\)$`),Tr=new RegExp(`^rgba\\(${ee},${ee},${ee},${ae}\\)$`),Hr=new RegExp(`^rgba\\(${j},${j},${j},${ae}\\)$`),zr=new RegExp(`^hsl\\(${ae},${j},${j}\\)$`),Ir=new RegExp(`^hsla\\(${ae},${j},${j},${ae}\\)$`),Ke={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Le(se,ie,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ye,formatHex:Ye,formatHex8:jr,formatHsl:Dr,formatRgb:We,toString:We});function Ye(){return this.rgb().formatHex()}function jr(){return this.rgb().formatHex8()}function Dr(){return St(this).formatHsl()}function We(){return this.rgb().formatRgb()}function ie(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Cr.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Je(t):r===3?new A(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ue(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ue(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pr.exec(e))?new A(t[1],t[2],t[3],1):(t=Rr.exec(e))?new A(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tr.exec(e))?ue(t[1],t[2],t[3],t[4]):(t=Hr.exec(e))?ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zr.exec(e))?tt(t[1],t[2]/100,t[3]/100,1):(t=Ir.exec(e))?tt(t[1],t[2]/100,t[3]/100,t[4]):Ke.hasOwnProperty(e)?Je(Ke[e]):e==="transparent"?new A(NaN,NaN,NaN,0):null}function Je(e){return new A(e>>16&255,e>>8&255,e&255,1)}function ue(e,t,r,n){return n<=0&&(e=t=r=NaN),new A(e,t,r,n)}function Lr(e){return e instanceof se||(e=ie(e)),e?(e=e.rgb(),new A(e.r,e.g,e.b,e.opacity)):new A}function ze(e,t,r,n){return arguments.length===1?Lr(e):new A(e,t,r,n??1)}function A(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Le(A,ze,Nt(se,{brighter(e){return e=e==null?me:Math.pow(me,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ne:Math.pow(ne,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new A(Y(this.r),Y(this.g),Y(this.b),xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatHex8:qr,formatRgb:et,toString:et}));function Qe(){return`#${K(this.r)}${K(this.g)}${K(this.b)}`}function qr(){return`#${K(this.r)}${K(this.g)}${K(this.b)}${K((isNaN(this.opacity)?1:this.opacity)*255)}`}function et(){const e=xe(this.opacity);return`${e===1?"rgb(":"rgba("}${Y(this.r)}, ${Y(this.g)}, ${Y(this.b)}${e===1?")":`, ${e})`}`}function xe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Y(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function K(e){return e=Y(e),(e<16?"0":"")+e.toString(16)}function tt(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new z(e,t,r,n)}function St(e){if(e instanceof z)return new z(e.h,e.s,e.l,e.opacity);if(e instanceof se||(e=ie(e)),!e)return new z;if(e instanceof z)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,f=i-a,u=(i+a)/2;return f?(t===i?s=(r-n)/f+(r<n)*6:r===i?s=(n-t)/f+2:s=(t-r)/f+4,f/=u<.5?i+a:2-i-a,s*=60):f=u>0&&u<1?0:s,new z(s,f,u,e.opacity)}function Or(e,t,r,n){return arguments.length===1?St(e):new z(e,t,r,n??1)}function z(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Le(z,Or,Nt(se,{brighter(e){return e=e==null?me:Math.pow(me,e),new z(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ne:Math.pow(ne,e),new z(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new A(Ce(e>=240?e-240:e+120,a,n),Ce(e,a,n),Ce(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new z(rt(this.h),le(this.s),le(this.l),xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xe(this.opacity);return`${e===1?"hsl(":"hsla("}${rt(this.h)}, ${le(this.s)*100}%, ${le(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rt(e){return e=(e||0)%360,e<0?e+360:e}function le(e){return Math.max(0,Math.min(1,e||0))}function Ce(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qe=e=>()=>e;function Br(e,t){return function(r){return e+r*t}}function Fr(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Vr(e){return(e=+e)==1?Et:function(t,r){return r-t?Fr(t,r,e):qe(isNaN(t)?r:t)}}function Et(e,t){var r=t-e;return r?Br(e,r):qe(isNaN(e)?t:e)}const nt=function e(t){var r=Vr(t);function n(a,i){var s=r((a=ze(a)).r,(i=ze(i)).r),f=r(a.g,i.g),u=r(a.b,i.b),o=Et(a.opacity,i.opacity);return function(c){return a.r=s(c),a.g=f(c),a.b=u(c),a.opacity=o(c),a+""}}return n.gamma=e,n}(1);function Xr(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Zr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gr(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Oe(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(f){for(s=0;s<n;++s)i[s]=a[s](f);return i}}function Ur(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pe(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Kr(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Oe(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pe=new RegExp(Ie.source,"g");function Yr(e){return function(){return e}}function Wr(e){return function(t){return e(t)+""}}function Jr(e,t){var r=Ie.lastIndex=Pe.lastIndex=0,n,a,i,s=-1,f=[],u=[];for(e=e+"",t=t+"";(n=Ie.exec(e))&&(a=Pe.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),f[s]?f[s]+=i:f[++s]=i),(n=n[0])===(a=a[0])?f[s]?f[s]+=a:f[++s]=a:(f[++s]=null,u.push({i:s,x:pe(n,a)})),r=Pe.lastIndex;return r<t.length&&(i=t.slice(r),f[s]?f[s]+=i:f[++s]=i),f.length<2?u[0]?Wr(u[0].x):Yr(t):(t=u.length,function(o){for(var c=0,l;c<t;++c)f[(l=u[c]).i]=l.x(o);return f.join("")})}function Oe(e,t){var r=typeof t,n;return t==null||r==="boolean"?qe(t):(r==="number"?pe:r==="string"?(n=ie(t))?(t=n,nt):Jr:t instanceof ie?nt:t instanceof Date?Ur:Zr(t)?Xr:Array.isArray(t)?Gr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Kr:pe)(e,t)}function Qr(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function en(e){return function(){return e}}function tn(e){return+e}var at=[0,1];function Q(e){return e}function je(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:en(isNaN(t)?NaN:.5)}function rn(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nn(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=je(a,n),i=r(s,i)):(n=je(n,a),i=r(i,s)),function(f){return i(n(f))}}function an(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=je(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(f){var u=sr(e,f,1,n)-1;return i[u](a[u](f))}}function sn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fn(){var e=at,t=at,r=Oe,n,a,i,s=Q,f,u,o;function c(){var h=Math.min(e.length,t.length);return s!==Q&&(s=rn(e[0],e[h-1])),f=h>2?an:nn,u=o=null,l}function l(h){return h==null||isNaN(h=+h)?i:(u||(u=f(e.map(n),t,r)))(n(s(h)))}return l.invert=function(h){return s(a((o||(o=f(t,e.map(n),pe)))(h)))},l.domain=function(h){return arguments.length?(e=Array.from(h,tn),c()):e.slice()},l.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},l.rangeRound=function(h){return t=Array.from(h),r=Qr,c()},l.clamp=function(h){return arguments.length?(s=h?!0:Q,c()):s!==Q},l.interpolate=function(h){return arguments.length?(r=h,c()):r},l.unknown=function(h){return arguments.length?(i=h,l):i},function(h,d){return n=h,a=d,c()}}function on(){return fn()(Q,Q)}function cn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ye(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function te(e){return e=ye(Math.abs(e)),e?e[1]:NaN}function un(e,t){return function(r,n){for(var a=r.length,i=[],s=0,f=e[0],u=0;a>0&&f>0&&(u+f+1>n&&(f=Math.max(1,n-u)),i.push(r.substring(a-=f,a+f)),!((u+=f+1)>n));)f=e[s=(s+1)%e.length];return i.reverse().join(t)}}function ln(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function be(e){if(!(t=dn.exec(e)))throw new Error("invalid format: "+e);var t;return new Be({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}be.prototype=Be.prototype;function Be(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Be.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hn(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var _t;function gn(e,t){var r=ye(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(_t=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ye(e,Math.max(0,t+i-1))[0]}function it(e,t){var r=ye(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const st={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cn,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>it(e*100,t),r:it,s:gn,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ft(e){return e}var ot=Array.prototype.map,ct=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mn(e){var t=e.grouping===void 0||e.thousands===void 0?ft:un(ot.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ft:ln(ot.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function o(l){l=be(l);var h=l.fill,d=l.align,m=l.sign,$=l.symbol,y=l.zero,_=l.width,O=l.comma,P=l.precision,re=l.trim,E=l.type;E==="n"?(O=!0,E="g"):st[E]||(P===void 0&&(P=12),re=!0,E="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var ve=$==="$"?r:$==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",M=$==="$"?n:/[%p]/.test(E)?s:"",p=st[E],k=/[defgprs%]/.test(E);P=P===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function S(g){var N=ve,w=M,v,C,D;if(E==="c")w=p(g)+w,g="";else{g=+g;var B=g<0||1/g<0;if(g=isNaN(g)?u:p(Math.abs(g),P),re&&(g=hn(g)),B&&+g==0&&m!=="+"&&(B=!1),N=(B?m==="("?m:f:m==="-"||m==="("?"":m)+N,w=(E==="s"?ct[8+_t/3]:"")+w+(B&&m==="("?")":""),k){for(v=-1,C=g.length;++v<C;)if(D=g.charCodeAt(v),48>D||D>57){w=(D===46?a+g.slice(v+1):g.slice(v))+w,g=g.slice(0,v);break}}}O&&!y&&(g=t(g,1/0));var F=N.length+g.length+w.length,x=F<_?new Array(_-F+1).join(h):"";switch(O&&y&&(g=t(x+g,x.length?_-w.length:1/0),x=""),d){case"<":g=N+g+w+x;break;case"=":g=N+x+g+w;break;case"^":g=x.slice(0,F=x.length>>1)+N+g+w+x.slice(F);break;default:g=x+N+g+w;break}return i(g)}return S.toString=function(){return l+""},S}function c(l,h){var d=o((l=be(l),l.type="f",l)),m=Math.max(-8,Math.min(8,Math.floor(te(h)/3)))*3,$=Math.pow(10,-m),y=ct[8+m/3];return function(_){return d($*_)+y}}return{format:o,formatPrefix:c}}var de,At,Ct;xn({thousands:",",grouping:[3],currency:["$",""]});function xn(e){return de=mn(e),At=de.format,Ct=de.formatPrefix,de}function pn(e){return Math.max(0,-te(Math.abs(e)))}function yn(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(te(t)/3)))*3-te(Math.abs(e)))}function bn(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,te(t)-te(e))+1}function wn(e,t,r,n){var a=dr(e,t,r),i;switch(n=be(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=yn(a,s))&&(n.precision=i),Ct(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bn(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pn(a))&&(n.precision=i-(n.type==="%")*2);break}}return At(n)}function vn(e){var t=e.domain;return e.ticks=function(r){var n=t();return lr(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wn(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],f=n[i],u,o,c=10;for(f<s&&(o=s,s=f,f=o,o=a,a=i,i=o);c-- >0;){if(o=Te(s,f,r),o===u)return n[a]=s,n[i]=f,t(n);if(o>0)s=Math.floor(s/o)*o,f=Math.ceil(f/o)*o;else if(o<0)s=Math.ceil(s*o)/o,f=Math.floor(f*o)/o;else break;u=o}return e},e}function Pt(){var e=on();return e.copy=function(){return sn(e,Pt())},Ar.apply(e,arguments),vn(e)}const kn=(e,t)=>{const r=Ae(0,{duration:0,...t==null?void 0:t.tweened}),n=Ae(0,{duration:0,...t==null?void 0:t.tweened}),a=Ae(0,{duration:0,...t==null?void 0:t.tweened});function i(s){const{domain:f,color:u,mode:o="bar",inset:c,enabled:l}=s,h=s.value??0;if(l===!1)e.style.backgroundImage="",e.style.backgroundRepeat="",e.style.backgroundSize="";else{const d=Pt().domain(f??[-100,100]).range([0,100]);r.set(d(0)),r.subscribe(y=>{e.style.setProperty("--baseline",`${y}%`)}),n.set(d(Math.min(0,h))),n.subscribe(y=>{e.style.setProperty("--barStart",`${y}%`)}),a.set(d(Math.max(0,h))),a.subscribe(y=>{e.style.setProperty("--barEnd",`${y}%`)}),e.style.setProperty("--color-from",(typeof u=="function"?u(h):u)??"var(--tw-gradient-from)"),e.style.setProperty("--color-to",(typeof u=="function"?u(h):u)??"var(--tw-gradient-to)");const m=Array.isArray(c)?c[0]:c,$=Array.isArray(c)?c[1]:c;e.style.backgroundSize=`
			calc(100% - (${m}px * 2))
			calc(100% - (${$}px * 2))`,e.style.backgroundPosition=`${m}px ${$}px`,e.style.backgroundImage=o==="bar"?`${s.baseline?`
          linear-gradient(
            to right,
            transparent var(--baseline),
            currentColor var(--baseline),
            currentColor calc(var(--baseline) + 1px),
            transparent 0%,
            transparent 100%
          ),
        `:""}
          linear-gradient(
            to right,
            transparent var(--barStart),
            var(--color-from) var(--barStart),
            var(--color-to) var(--barEnd),
            transparent 0%,
            transparent 100%
          )
        `:`linear-gradient(
        to right,
        var(--color-from),
        var(--color-to)
      )`,e.style.backgroundRepeat="no-repeat"}}return t&&i(t),{update:i}};class Rt{constructor(t){Me(this,"node");Me(this,"changes");this.node=t,this.changes={classes:[],styles:[],attributes:[],eventListeners:[],actions:new Map}}addClass(t){this.node.classList.add(t),this.changes.classes.push(t)}addStyle(t,r){this.node.style.setProperty(t,r),this.changes.styles.push({property:t,value:r})}addAttribute(t,r){this.node.setAttribute(t,r),this.changes.attributes.push({qualifiedName:t,value:r})}addEventListener(t,r){this.node.addEventListener(t,r),this.changes.eventListeners.push({type:t,listener:r})}addAction(t,r){var a;const n=this.changes.actions.get(t.name);n?(a=n.update)==null||a.call(n,r):this.changes.actions.set(t.name,t(this.node,r))}reset(){this.changes.classes.forEach(t=>{this.node.classList.remove(t)}),this.changes.styles.forEach(({property:t,value:r})=>{this.node.style.removeProperty(t)}),this.changes.attributes.forEach(({qualifiedName:t,value:r})=>{this.node.removeAttribute(t)}),this.changes.eventListeners.forEach(({type:t,listener:r})=>{this.node.removeEventListener(t,r)}),this.changes={...this.changes,classes:[],styles:[],attributes:[],eventListeners:[]}}destroy(){var r;this.reset();for(var t of this.changes.actions.values())t&&((r=t.destroy)==null||r.call(t))}}const ut=(e,t)=>{const r=new Rt(e);function n(i){i===void 0&&(i={top:!0}),r.reset(),Vt(i).forEach(s=>{const f=i[s]??!1;if(f&&r.addStyle("position","sticky"),f)switch(s){case"top":r.addStyle("top",`calc(var(--sticky-top, 0px) + ${e.offsetTop}px)`);break;case"bottom":r.addStyle("bottom","calc(var(--sticky-bottom, 0px))");break;case"left":r.addStyle("left","calc(var(--sticky-left, 0px))");break;case"right":r.addStyle("right","calc(var(--sticky-right, 0px))");break}})}n(t);function a(){r.reset()}return{update:n,destroy:a}};function Mn(e){const t=Tt(e),r=Array.from({length:t}).map(()=>[]);function n(a,i){a.filter(s=>s.hidden!==!0).forEach(s=>{const f={...s};if(delete f.columns,s.columns){const u=Ht(s);u>1&&(f.colSpan=u),n(s.columns,i+1)}else t-i>1&&(f.rowSpan=t-i);r[i].push(f)})}return n(e,0),r}function $n(e){const t=[];function r(n){if(n.columns==null){t.push(n);return}n.columns.filter(a=>a.hidden!==!0).forEach(a=>r(a))}return e.filter(n=>n.hidden!==!0).forEach(n=>r(n)),t}function Tt(e){if(e==null)return 0;let t=0;return e.filter(r=>r.hidden!==!0).forEach(r=>{t=Math.max(t,Tt(r.columns))}),t+1}function Ht(e){if(e.columns==null)return 1;let t=0;return e.columns.filter(r=>r.hidden!==!0).forEach(r=>{t+=Ht(r)}),t}function lt(e){if(e.header!=null)return e.header;let t=e.name.split(".")[0];return t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t}function we(e,t,r){var a;let n;return Ze(e.value)&&(n=(a=e.value)==null?void 0:a.call(e,t,r)),n===void 0&&(n=Er(t,typeof e.value=="string"?e.value:e.name)),typeof n=="string"&&!Ze(e.format)&&(e.format??"none")in Xt&&(n=Zt(n)),n}const W=(e,t)=>{const r=new Rt(e);function n(i){var h;const{order:s,rowData:f,rowIndex:u,tableData:o}=i,c=_r({},i.column,i.overrides);if(r.reset(),e.nodeName==="TH"&&s&&c.orderBy!==!1&&(r.addClass("cursor-pointer"),s&&r.addEventListener("click",()=>s.onHeaderClick(new CustomEvent("headerClick",{detail:{column:c}})))),c.colSpan&&r.addAttribute("colspan",c.colSpan.toString()),c.rowSpan&&r.addAttribute("rowspan",c.rowSpan.toString()),c.align)switch(c.align){case"left":r.addClass("text-left");break;case"center":r.addClass("text-center");break;case"right":r.addClass("text-right");break;case"justify":r.addClass("text-justify");break}else if(typeof c.format=="string")switch(c.format){case"currency":case"decimal":case"integer":case"percent":r.addClass("text-right");break}else r.addClass("text-left");const l={column:c,rowData:f,cellValue:f&&we(c,f,u??-1)};if(c.classes){if(e.nodeName==="TH"&&c.classes.th){const d=dt(c.classes.th,l);d==null||d.forEach(m=>r.addClass(m))}else if(e.nodeName==="TD"&&c.classes.td){const d=dt(c.classes.td,l);d==null||d.forEach(m=>r.addClass(m))}}if(c.style){if(e.nodeName==="TH"&&c.style.th){const d=ht(c.style.th,l);d==null||d.forEach(([m,$])=>{r.addStyle(m,$)})}else if(e.nodeName==="TD"&&c.style.td){const d=ht(c.style.td,l);d==null||d.forEach(([m,$])=>{r.addStyle(m,$)})}}if(c.sticky&&(e.nodeName==="TH"&&(r.addAction(ut,{...c.sticky,bottom:!1}),(c.sticky.left||c.sticky.right)&&r.addClass("z-20")),e.nodeName==="TD")){const d=e.closest("table tr:last-child")===e.closest("tr");r.addAction(ut,{...c.sticky,top:!1,bottom:c.sticky.bottom&&d}),c.sticky.left&&r.addClass("z-10"),c.sticky.right&&r.addClass("z-10")}if(c.dataBackground){const d=fr(o??[],m=>we(c,m));r.addAction(kn,{value:l.cellValue,domain:o?[gr([0,d[0]]),hr([0,d[1]])]:void 0,...typeof c.dataBackground=="function"?(h=c.dataBackground)==null?void 0:h.call(c,{column:c,cellValue:l.cellValue,rowData:f}):c.dataBackground})}}function a(){r.destroy()}return t&&n(t),{update:n,destroy:a}};function dt(e,t){const r=typeof e=="function"?e(t):e;return typeof r=="string"?r.split(" ").map(n=>n.trim()).filter(n=>n!==""):r}function ht(e,t){const r=typeof e=="function"?e(t):e;return typeof r=="string"?r.split(";").map(a=>a.trim()).filter(a=>a!=="").map(a=>a.split(":").map(i=>i.trim())):Gt(r)}var Nn=Z('<span class="TableOrderIcon"><!></span>');function Sn(e,t){mt(t,!1);const[r,n]=Mt(),a=()=>kt(i(),"$order",r);let i=U(t,"order",8),s=U(t,"column",8);vt();var f=gt(),u=xt(f);{var o=c=>{var l=Nn(),h=J(l);const d=X(()=>R("transition duration-100 transform",a().direction==="desc"&&"rotate-180"));Yt(h,{data:Wt,size:"1rem",get class(){return b(d)}}),I(l),H(c,l)};Re(u,c=>{a().by&&(a().by===s().value||a().by===s().name||a().by===s().orderBy)&&c(o)})}H(e,f),pt(),n()}var En=Z("<th> <!></th>"),_n=Z("<tr></tr>"),An=Z("<thead></thead>"),Cn=Z("<td><!></td>"),Pn=Z("<tr></tr>"),Rn=Z("<tbody></tbody>"),Tn=Z("<div><div><table><!><!><!></table></div></div>");function Kn(e,t){const r=Jt(t,["children","$$slots","$$events","$$legacy"]);mt(t,!1);const[n,a]=Mt(),i=()=>kt($,"$format",n),s=Se(),f=Se(),u=Se(),o=Qt();let c=U(t,"columns",24,()=>[]),l=U(t,"data",24,()=>[]),h=U(t,"order",8,void 0),d=U(t,"classes",24,()=>({}));const m={},{format:$}=Ut();let y=U(t,"styles",24,()=>({}));$e(()=>(fe(c()),fe(d())),()=>{Ne(s,Mn(c()).map(M=>M.map(p=>{var k,S;return{...p,classes:{th:R(m.th,d().th,(k=p.classes)==null?void 0:k.th),td:R(m.td,d().td,(S=p.classes)==null?void 0:S.td)}}})))}),$e(()=>(fe(c()),fe(d())),()=>{Ne(f,$n(c()).map(M=>{var p,k;return{...M,classes:{th:R(m.th,d().th,(p=M.classes)==null?void 0:p.th),td:R(m.td,d().td,(k=M.classes)==null?void 0:k.td)}}}))}),$e(()=>i(),()=>{Ne(u,(M,p,k)=>{let S=we(M,p,k);return M.format?typeof M.format=="function"?M.format(S,p,k):i()(S,M.format):S})}),Dt(),vt();var _=Tn(),O=J(_),P=J(O),re=J(P);_e(re,t,"headers",{get headers(){return b(s)},getCellHeader:lt},M=>{var p=An();oe(p,5,()=>b(s)??[],ce,(k,S)=>{var g=_n();oe(g,5,()=>b(S)??[],ce,(N,w)=>{var v=En();let C;var D=J(v),B=Ee(D);{var F=x=>{Sn(x,{get order(){return h()},get column(){return b(w)}})};Re(B,x=>{h()&&x(F)})}I(v),Ge(v,(x,T)=>W==null?void 0:W(x,T),()=>({column:b(w),order:h()})),Fe(()=>Ve("click",v,x=>o("headerClick",{column:b(w)}))),V((x,T)=>{C=L(v,1,`column-${b(w).name??""}`,null,C,x),q(v,y().th),Xe(D,`${T??""} `)},[()=>({"whitespace-nowrap":h()}),()=>lt(b(w))],X),H(N,v)}),I(g),V(N=>{L(g,1,N),q(g,y().tr)},[()=>G(R(m.tr,d().tr))],X),H(k,g)}),I(p),V(k=>{L(p,1,k),q(p,y().thead)},[()=>G(R(m.thead,d().thead))],X),H(M,p)});var E=Ee(re);_e(E,t,"default",{},null);var ve=Ee(E);_e(ve,t,"data",{get data(){return l()},get columns(){return b(f)},getCellValue:we,get getCellContent(){return b(u)}},M=>{var p=Rn();oe(p,5,()=>l()??[],ce,(k,S,g)=>{var N=Pn();oe(N,5,()=>b(f)??[],ce,(w,v)=>{var C=Cn(),D=J(C);{var B=x=>{var T=gt(),ke=xt(T);Ot(ke,()=>b(u)(b(v),b(S),g)),H(x,T)},F=x=>{var T=jt();V(ke=>Xe(T,ke),[()=>b(u)(b(v),b(S),g)],X),H(x,T)};Re(D,x=>{b(v).html?x(B):x(F,!1)})}I(C),Ge(C,(x,T)=>W==null?void 0:W(x,T),()=>({column:b(v),rowData:b(S),rowIndex:g,tableData:l()})),Fe(()=>Ve("click",C,x=>o("cellClick",{column:b(v),rowData:b(S)}))),V(()=>{L(C,1,`column-${b(v).name??""}`),q(C,y().td)}),H(w,C)}),I(N),V(w=>{L(N,1,w),q(N,y().tr)},[()=>G(R(m.tr,d().tr))],X),H(k,N)}),I(p),V(k=>{L(p,1,k),q(p,y().tbody)},[()=>G(R(m.tbody,d().tbody))],X),H(M,p)}),I(P),I(O),I(_),V((M,p,k)=>{L(_,1,M),q(_,y().container),L(O,1,p),q(O,y().wrapper),L(P,1,k),q(P,y().table)},[()=>G(R("Table","table-container",m.container,d().container,r.class)),()=>G(R("table-wrapper",m.wrapper,d().wrapper)),()=>G(R("w-full",m.table,d().table))],X),H(e,_),pt(),a()}export{Kn as T};
