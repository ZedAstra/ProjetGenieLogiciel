import{d as Ie,g as T,a0 as Ce,I as me,e as ye,J as je,as as be,M as we,ax as K,ak as Q,_ as Oe,a3 as se,i as q,ay as oe,az as Ne,al as xe,aA as qe,aB as re,aC as te,aD as ze,h as ke,x as Fe,D as Ue,F as fe,A as Y,G as X,j as B,aq as De,y as He,B as Le,V as Me,aE as Se,w as Ee,aF as Be,E as Je,aG as Pe,aH as We,o as Ge,v as Qe,aI as Ve,ae as Ke,n as J,am as le,an as ue,ao as Ye,aJ as Xe,aK as Ze,s as ne,a as ae,c as U}from"./DVbtH7dG.js";import{h as er}from"./B82cbttc.js";import{a as rr,w as tr}from"./CH7mA5_C.js";import{g as nr}from"./L56fx7Z6.js";function Ir(r,e){return e}function ar(r,e,t,n){for(var a=[],i=e.length,o=0;o<i;o++)Ne(e[o].e,a,!0);var f=i>0&&a.length===0&&t!==null;if(f){var y=t.parentNode;xe(y),y.append(t),n.clear(),F(r,e[0].prev,e[i-1].next)}qe(a,()=>{for(var c=0;c<i;c++){var l=e[c];f||(n.delete(l.k),F(r,l.prev,l.next)),ke(l.e,!f)}})}function Cr(r,e,t,n,a,i=null){var o=r,f={flags:e,items:new Map,first:null},y=(e&Se)!==0;if(y){var c=r;o=q?Y(Le(c)):c.appendChild(Me())}q&&Fe();var l=null,u=!1,s=Ce(()=>{var d=t();return we(d)?d:d==null?[]:be(d)});Ie(()=>{var d=T(s),v=d.length;if(u&&v===0)return;u=v===0;let b=!1;if(q){var w=o.data===Ue;w!==(v===0)&&(o=fe(),Y(o),X(!1),b=!0)}if(q){for(var h=null,S,g=0;g<v;g++){if(B.nodeType===8&&B.data===De){o=B,b=!0,X(!1);break}var p=d[g],m=n(p,g);S=Re(B,f,h,null,p,m,g,a,e,t),f.items.set(m,S),h=S}v>0&&Y(fe())}q||ir(d,f,o,a,e,n,t),i!==null&&(v===0?l?me(l):l=ye(()=>i(o)):l!==null&&je(l,()=>{l=null})),b&&X(!0),T(s)}),q&&(o=B)}function ir(r,e,t,n,a,i,o){var E,D,$,R;var f=(a&Be)!==0,y=(a&(te|re))!==0,c=r.length,l=e.items,u=e.first,s=u,d,v=null,b,w=[],h=[],S,g,p,m;if(f)for(m=0;m<c;m+=1)S=r[m],g=i(S,m),p=l.get(g),p!==void 0&&((E=p.a)==null||E.measure(),(b??(b=new Set)).add(p));for(m=0;m<c;m+=1){if(S=r[m],g=i(S,m),p=l.get(g),p===void 0){var O=s?s.e.nodes_start:t;v=Re(O,e,v,v===null?e.first:v.next,S,g,m,n,a,o),l.set(g,v),w=[],h=[],s=v.next;continue}if(y&&sr(p,S,m,a),(p.e.f&K)!==0&&(me(p.e),f&&((D=p.a)==null||D.unfix(),(b??(b=new Set)).delete(p))),p!==s){if(d!==void 0&&d.has(p)){if(w.length<h.length){var A=h[0],_;v=A.prev;var N=w[0],L=w[w.length-1];for(_=0;_<w.length;_+=1)ce(w[_],A,t);for(_=0;_<h.length;_+=1)d.delete(h[_]);F(e,N.prev,L.next),F(e,v,N),F(e,L,A),s=A,v=L,m-=1,w=[],h=[]}else d.delete(p),ce(p,s,t),F(e,p.prev,p.next),F(e,p,v===null?e.first:v.next),F(e,v,p),v=p;continue}for(w=[],h=[];s!==null&&s.k!==g;)(s.e.f&K)===0&&(d??(d=new Set)).add(s),h.push(s),s=s.next;if(s===null)continue;p=s}w.push(p),v=p,s=p.next}if(s!==null||d!==void 0){for(var I=d===void 0?[]:be(d);s!==null;)(s.e.f&K)===0&&I.push(s),s=s.next;var k=I.length;if(k>0){var x=(a&Se)!==0&&c===0?t:null;if(f){for(m=0;m<k;m+=1)($=I[m].a)==null||$.measure();for(m=0;m<k;m+=1)(R=I[m].a)==null||R.fix()}ar(e,I,x,l)}}f&&Ee(()=>{var C;if(b!==void 0)for(p of b)(C=p.a)==null||C.apply()}),Q.first=e.first&&e.first.e,Q.last=v&&v.e}function sr(r,e,t,n){(n&te)!==0&&oe(r.v,e),(n&re)!==0?oe(r.i,t):r.i=t}function Re(r,e,t,n,a,i,o,f,y,c){var l=(y&te)!==0,u=(y&ze)===0,s=l?u?Oe(a):se(a):a,d=(y&re)===0?o:se(o),v={i:d,v:s,k:i,a:null,e:null,prev:t,next:n};try{return v.e=ye(()=>f(r,s,d,c),q),v.e.prev=t&&t.e,v.e.next=n&&n.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function ce(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,i=r.e.nodes_start;i!==n;){var o=He(i);a.before(i),i=o}}function F(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function jr(r){return typeof r=="object"?er(r):r??""}const de=[...` 	
\r\f \v\uFEFF`];function or(r,e,t){var n=r==null?"":""+r;if(e&&(n=n?n+" "+e:e),t){for(var a in t)if(t[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var f=o+i;(o===0||de.includes(n[o-1]))&&(f===n.length||de.includes(n[f]))?n=(o===0?"":n.substring(0,o))+n.substring(f+1):o=f}}return n===""?null:n}function ve(r,e=!1){var t=e?" !important;":";",n="";for(var a in r){var i=r[a];i!=null&&i!==""&&(n+=" "+a+": "+i+t)}return n}function Z(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Or(r,e){if(e){var t="",n,a;if(Array.isArray(e)?(n=e[0],a=e[1]):n=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,f=!1,y=[];n&&y.push(...Object.keys(n).map(Z)),a&&y.push(...Object.keys(a).map(Z));var c=0,l=-1;const b=r.length;for(var u=0;u<b;u++){var s=r[u];if(f?s==="/"&&r[u-1]==="*"&&(f=!1):i?i===s&&(i=!1):s==="/"&&r[u+1]==="*"?f=!0:s==='"'||s==="'"?i=s:s==="("?o++:s===")"&&o--,!f&&i===!1&&o===0){if(s===":"&&l===-1)l=u;else if(s===";"||u===b-1){if(l!==-1){var d=Z(r.substring(c,l).trim());if(!y.includes(d)){s!==";"&&u++;var v=r.substring(c,u).trim();t+=" "+v+";"}}c=u+1,l=-1}}}}return n&&(t+=ve(n)),a&&(t+=ve(a,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function Nr(r,e,t,n,a,i){var o=r.__className;if(q||o!==t||o===void 0){var f=or(t,n,i);(!q||f!==r.getAttribute("class"))&&(f==null?r.removeAttribute("class"):e?r.className=f:r.setAttribute("class",f)),r.__className=t}else if(i&&a!==i)for(var y in i){var c=!!i[y];(a==null||c!==!!a[y])&&r.classList.toggle(y,c)}return i}const fr=()=>performance.now(),z={tick:r=>requestAnimationFrame(r),now:()=>fr(),tasks:new Set};function $e(){const r=z.now();z.tasks.forEach(e=>{e.c(r)||(z.tasks.delete(e),e.f())}),z.tasks.size!==0&&z.tick($e)}function lr(r){let e;return z.tasks.size===0&&z.tick($e),{promise:new Promise(t=>{z.tasks.add(e={c:r,f:t})}),abort(){z.tasks.delete(e)}}}function W(r,e){tr(()=>{r.dispatchEvent(new CustomEvent(e))})}function ur(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function he(r){const e={},t=r.split(";");for(const n of t){const[a,i]=n.split(":");if(!a||i===void 0)break;const o=ur(a.trim());e[o]=i.trim()}return e}const cr=r=>r;function xr(r,e,t,n){var a=(r&Xe)!==0,i=(r&Ze)!==0,o=a&&i,f=(r&Ve)!==0,y=o?"both":a?"in":"out",c,l=e.inert,u=e.style.overflow,s,d;function v(){var g=Ye,p=Q;le(null),ue(null);try{return c??(c=t()(e,(n==null?void 0:n())??{},{direction:y}))}finally{le(g),ue(p)}}var b={is_global:f,in(){var g;if(e.inert=l,!a){d==null||d.abort(),(g=d==null?void 0:d.reset)==null||g.call(d);return}i||s==null||s.abort(),W(e,"introstart"),s=ee(e,v(),d,1,()=>{W(e,"introend"),s==null||s.abort(),s=c=void 0,e.style.overflow=u})},out(g){if(!i){g==null||g(),c=void 0;return}e.inert=!0,W(e,"outrostart"),d=ee(e,v(),s,0,()=>{W(e,"outroend"),g==null||g()})},stop:()=>{s==null||s.abort(),d==null||d.abort()}},w=Q;if((w.transitions??(w.transitions=[])).push(b),a&&rr){var h=f;if(!h){for(var S=w.parent;S&&(S.f&Je)!==0;)for(;(S=S.parent)&&(S.f&Pe)===0;);h=!S||(S.f&We)!==0}h&&Ge(()=>{Qe(()=>b.in())})}}function ee(r,e,t,n,a){var i=n===1;if(Ke(e)){var o,f=!1;return Ee(()=>{if(!f){var w=e({direction:i?"in":"out"});o=ee(r,w,t,n,a)}}),{abort:()=>{f=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return a(),{abort:J,deactivate:J,reset:J,t:()=>n};const{delay:y=0,css:c,tick:l,easing:u=cr}=e;var s=[];if(i&&t===void 0&&(l&&l(0,1),c)){var d=he(c(0,1));s.push(d,d)}var v=()=>1-n,b=r.animate(s,{duration:y});return b.onfinish=()=>{var w=(t==null?void 0:t.t())??1-n;t==null||t.abort();var h=n-w,S=e.duration*Math.abs(h),g=[];if(S>0){var p=!1;if(c)for(var m=Math.ceil(S/16.666666666666668),O=0;O<=m;O+=1){var A=w+h*u(O/m),_=he(c(A,1-A));g.push(_),p||(p=_.overflow==="hidden")}p&&(r.style.overflow="hidden"),v=()=>{var N=b.currentTime;return w+h*u(N/S)},l&&lr(()=>{if(b.playState!=="running")return!1;var N=v();return l(N,1-N),!0})}b=r.animate(g,{duration:S,fill:"forwards"}),b.onfinish=()=>{v=()=>n,l==null||l(n,1-n),a()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=J)},deactivate:()=>{a=J},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>v()}}function qr(r,e){var i;var t=(i=r.$$events)==null?void 0:i[e.type],n=we(t)?t.slice():t==null?[]:[t];for(var a of n)a.call(this,e)}const dr=r=>r;function _e(r){const e=r-1;return e*e*e+1}function zr(r,{delay:e=0,duration:t=400,easing:n=dr}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*a}`}}function kr(r,{delay:e=0,duration:t=400,easing:n=_e,axis:a="y"}={}){const i=getComputedStyle(r),o=+i.opacity,f=a==="y"?"height":"width",y=parseFloat(i[f]),c=a==="y"?["top","bottom"]:["left","right"],l=c.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),u=parseFloat(i[`padding${l[0]}`]),s=parseFloat(i[`padding${l[1]}`]),d=parseFloat(i[`margin${l[0]}`]),v=parseFloat(i[`margin${l[1]}`]),b=parseFloat(i[`border${l[0]}Width`]),w=parseFloat(i[`border${l[1]}Width`]);return{delay:e,duration:t,easing:n,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*o};${f}: ${h*y}px;padding-${c[0]}: ${h*u}px;padding-${c[1]}: ${h*s}px;margin-${c[0]}: ${h*d}px;margin-${c[1]}: ${h*v}px;border-${c[0]}-width: ${h*b}px;border-${c[1]}-width: ${h*w}px;min-${f}: 0`}}function Fr(r,{delay:e=0,duration:t=400,easing:n=_e,start:a=0,opacity:i=0}={}){const o=getComputedStyle(r),f=+o.opacity,y=o.transform==="none"?"":o.transform,c=1-a,l=f*(1-i);return{delay:e,duration:t,easing:n,css:(u,s)=>`
			transform: ${y} scale(${1-c*s});
			opacity: ${f-l*s}
		`}}const vr=/\{[^{}]+\}/g,hr=()=>{var r,e;return typeof process=="object"&&Number.parseInt((e=(r=process==null?void 0:process.versions)==null?void 0:r.node)==null?void 0:e.substring(0,2))>=18&&process.versions.undici};function pr(){return Math.random().toString(36).slice(2,11)}function gr(r){let{baseUrl:e="",Request:t=globalThis.Request,fetch:n=globalThis.fetch,querySerializer:a,bodySerializer:i,headers:o,requestInitExt:f=void 0,...y}={...r};f=hr()?f:void 0,e=ge(e);const c=[];async function l(u,s){const{baseUrl:d,fetch:v=n,Request:b=t,headers:w,params:h={},parseAs:S="json",querySerializer:g,bodySerializer:p=i??yr,body:m,...O}=s||{};d&&(e=ge(d));let A=typeof a=="function"?a:pe(a);g&&(A=typeof g=="function"?g:pe({...typeof a=="object"?a:{},...g}));const _=m===void 0?void 0:p(m),N=_===void 0||_ instanceof FormData?{}:{"Content-Type":"application/json"},L={redirect:"follow",...y,...O,body:_,headers:wr(N,o,w,h.header)};let I,k,x=new t(br(u,{baseUrl:e,params:h,querySerializer:A}),L),E;for(const $ in O)$ in x||(x[$]=O[$]);if(c.length){I=pr(),k=Object.freeze({baseUrl:e,fetch:v,parseAs:S,querySerializer:A,bodySerializer:p});for(const $ of c)if($&&typeof $=="object"&&typeof $.onRequest=="function"){const R=await $.onRequest({request:x,schemaPath:u,params:h,options:k,id:I});if(R)if(R instanceof t)x=R;else if(R instanceof Response){E=R;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!E){try{E=await v(x,f)}catch($){let R=$;if(c.length)for(let C=c.length-1;C>=0;C--){const P=c[C];if(P&&typeof P=="object"&&typeof P.onError=="function"){const M=await P.onError({request:x,error:R,schemaPath:u,params:h,options:k,id:I});if(M){if(M instanceof Response){R=void 0,E=M;break}if(M instanceof Error){R=M;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(R)throw R}if(c.length)for(let $=c.length-1;$>=0;$--){const R=c[$];if(R&&typeof R=="object"&&typeof R.onResponse=="function"){const C=await R.onResponse({request:x,response:E,schemaPath:u,params:h,options:k,id:I});if(C){if(!(C instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");E=C}}}}if(E.status===204||E.headers.get("Content-Length")==="0")return E.ok?{data:void 0,response:E}:{error:void 0,response:E};if(E.ok)return S==="stream"?{data:E.body,response:E}:{data:await E[S](),response:E};let D=await E.text();try{D=JSON.parse(D)}catch{}return{error:D,response:E}}return{request(u,s,d){return l(s,{...d,method:u.toUpperCase()})},GET(u,s){return l(u,{...s,method:"GET"})},PUT(u,s){return l(u,{...s,method:"PUT"})},POST(u,s){return l(u,{...s,method:"POST"})},DELETE(u,s){return l(u,{...s,method:"DELETE"})},OPTIONS(u,s){return l(u,{...s,method:"OPTIONS"})},HEAD(u,s){return l(u,{...s,method:"HEAD"})},PATCH(u,s){return l(u,{...s,method:"PATCH"})},TRACE(u,s){return l(u,{...s,method:"TRACE"})},use(...u){for(const s of u)if(s){if(typeof s!="object"||!("onRequest"in s||"onResponse"in s||"onError"in s))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");c.push(s)}},eject(...u){for(const s of u){const d=c.indexOf(s);d!==-1&&c.splice(d,1)}}}}function V(r,e,t){if(e==null)return"";if(typeof e=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${r}=${(t==null?void 0:t.allowReserved)===!0?e:encodeURIComponent(e)}`}function Te(r,e,t){if(!e||typeof e!="object")return"";const n=[],a={simple:",",label:".",matrix:";"}[t.style]||"&";if(t.style!=="deepObject"&&t.explode===!1){for(const f in e)n.push(f,t.allowReserved===!0?e[f]:encodeURIComponent(e[f]));const o=n.join(",");switch(t.style){case"form":return`${r}=${o}`;case"label":return`.${o}`;case"matrix":return`;${r}=${o}`;default:return o}}for(const o in e){const f=t.style==="deepObject"?`${r}[${o}]`:o;n.push(V(f,e[o],t))}const i=n.join(a);return t.style==="label"||t.style==="matrix"?`${a}${i}`:i}function Ae(r,e,t){if(!Array.isArray(e))return"";if(t.explode===!1){const i={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[t.style]||",",o=(t.allowReserved===!0?e:e.map(f=>encodeURIComponent(f))).join(i);switch(t.style){case"simple":return o;case"label":return`.${o}`;case"matrix":return`;${r}=${o}`;default:return`${r}=${o}`}}const n={simple:",",label:".",matrix:";"}[t.style]||"&",a=[];for(const i of e)t.style==="simple"||t.style==="label"?a.push(t.allowReserved===!0?i:encodeURIComponent(i)):a.push(V(r,i,t));return t.style==="label"||t.style==="matrix"?`${n}${a.join(n)}`:a.join(n)}function pe(r){return function(t){const n=[];if(t&&typeof t=="object")for(const a in t){const i=t[a];if(i!=null){if(Array.isArray(i)){if(i.length===0)continue;n.push(Ae(a,i,{style:"form",explode:!0,...r==null?void 0:r.array,allowReserved:(r==null?void 0:r.allowReserved)||!1}));continue}if(typeof i=="object"){n.push(Te(a,i,{style:"deepObject",explode:!0,...r==null?void 0:r.object,allowReserved:(r==null?void 0:r.allowReserved)||!1}));continue}n.push(V(a,i,r))}}return n.join("&")}}function mr(r,e){let t=r;for(const n of r.match(vr)??[]){let a=n.substring(1,n.length-1),i=!1,o="simple";if(a.endsWith("*")&&(i=!0,a=a.substring(0,a.length-1)),a.startsWith(".")?(o="label",a=a.substring(1)):a.startsWith(";")&&(o="matrix",a=a.substring(1)),!e||e[a]===void 0||e[a]===null)continue;const f=e[a];if(Array.isArray(f)){t=t.replace(n,Ae(a,f,{style:o,explode:i}));continue}if(typeof f=="object"){t=t.replace(n,Te(a,f,{style:o,explode:i}));continue}if(o==="matrix"){t=t.replace(n,`;${V(a,f)}`);continue}t=t.replace(n,o==="label"?`.${encodeURIComponent(f)}`:encodeURIComponent(f))}return t}function yr(r){return r instanceof FormData?r:JSON.stringify(r)}function br(r,e){var a;let t=`${e.baseUrl}${r}`;(a=e.params)!=null&&a.path&&(t=mr(t,e.params.path));let n=e.querySerializer(e.params.query??{});return n.startsWith("?")&&(n=n.substring(1)),n&&(t+=`?${n}`),t}function wr(...r){const e=new Headers;for(const t of r){if(!t||typeof t!="object")continue;const n=t instanceof Headers?t.entries():Object.entries(t);for(const[a,i]of n)if(i===null)e.delete(a);else if(Array.isArray(i))for(const o of i)e.append(a,o);else i!==void 0&&e.set(a,i)}return e}function ge(r){return r.endsWith("/")?r.substring(0,r.length-1):r}let j=ne(ae(localStorage.getItem("jwtToken")||"null")),G=ne(ae(JSON.parse(localStorage.getItem("chantier")||"0")));function Ur(r){U(G,r,!0),localStorage.setItem("chantier",JSON.stringify(r))}function Dr(){return T(G)&&U(G,JSON.parse(localStorage.getItem("chantier")||"0"),!0),T(G)}let ie=gr({baseUrl:"https://localhost:7149"}),H=ne(ae(JSON.parse(localStorage.getItem("me")||"null")));async function Hr(r,e){const{data:t,error:n}=await ie.POST("/auth/login",{body:{login:r,password:e},bodySerializer:Rr});if(t){U(j,t,!0),localStorage.setItem("jwtToken",T(j));try{await Sr()}catch(a){console.error(a)}return T(j)}else return null}async function Sr(){const{data:r,error:e}=await ie.GET("/auth/whoami",{params:{header:{Authorization:Er()}}});if(r&&(U(H,r,!0),localStorage.setItem("me",JSON.stringify(T(H)))),e)return console.error(e),null}function Lr(){return T(H)&&U(H,JSON.parse(localStorage.getItem("me")||"null"),!0),T(H)}function Er(){return T(j)==="null"&&U(j,localStorage.getItem("jwtToken")||"",!0),"Bearer "+T(j)}function Mr(){return T(j)!=="null"&&T(j)!==""&&T(j)!==null}async function Br(){U(j,""),localStorage.removeItem("jwtToken"),U(H,null),localStorage.removeItem("me"),nr("/")}function Jr(){return ie}function Rr(r){const e=new FormData;for(const t in r)e.append(t,r[t]);return e}export{Jr as a,Er as b,Dr as c,Br as d,Cr as e,Rr as f,Lr as g,Ir as h,Mr as i,jr as j,Nr as k,Hr as l,qr as m,kr as n,zr as o,Fr as p,Or as q,z as r,Ur as s,xr as t,lr as u};
